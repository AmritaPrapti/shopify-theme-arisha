{% doc %}
  @prompt
    Create a section with a customizable header and up to 5 bullet points. Each bullet point should have text content and a customizable icon that can be selected from preset icon options or uploaded as a custom PNG image. Include settings to control the number of bullet points shown, customize the header text and styling, and allow merchants to easily change icons and text for each bullet point.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-bullet-list-{{ ai_gen_id }} {
    display: block;
    width: 100%;
    padding: {{ block.settings.section_padding }}px;
    background-color: {{ block.settings.background_color }};
  }

  .ai-bullet-list__container-{{ ai_gen_id }} {
    max-width: {{ block.settings.max_width }}px;
    margin: 0 auto;
  }

  .ai-bullet-list__header-{{ ai_gen_id }} {
    margin: 0 0 {{ block.settings.header_spacing }}px;
    font-size: {{ block.settings.header_size }}px;
    font-weight: {{ block.settings.header_weight }};
    color: {{ block.settings.header_color }};
    text-align: {{ block.settings.text_alignment }};
  }

  .ai-bullet-list__items-{{ ai_gen_id }} {
    display: flex;
    flex-direction: column;
    gap: {{ block.settings.item_spacing }}px;
  }

  .ai-bullet-list__item-{{ ai_gen_id }} {
    display: flex;
    align-items: flex-start;
    gap: {{ block.settings.icon_text_gap }}px;
  }

  .ai-bullet-list__icon-wrapper-{{ ai_gen_id }} {
    flex-shrink: 0;
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-bullet-list__icon-{{ ai_gen_id }} {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .ai-bullet-list__icon-{{ ai_gen_id }} svg {
    width: 100%;
    height: 100%;
    fill: {{ block.settings.icon_color }};
  }

  .ai-bullet-list__text-{{ ai_gen_id }} {
    flex: 1;
    font-size: {{ block.settings.text_size }}px;
    line-height: 1.5;
    color: {{ block.settings.text_color }};
  }

  @media screen and (max-width: 749px) {
    .ai-bullet-list__header-{{ ai_gen_id }} {
      font-size: calc({{ block.settings.header_size }}px * 0.8);
    }

    .ai-bullet-list__icon-wrapper-{{ ai_gen_id }} {
      width: calc({{ block.settings.icon_size }}px * 0.8);
      height: calc({{ block.settings.icon_size }}px * 0.8);
    }

    .ai-bullet-list__text-{{ ai_gen_id }} {
      font-size: calc({{ block.settings.text_size }}px * 0.9);
    }
  }
{% endstyle %}

<bullet-list-{{ ai_gen_id }} class="ai-bullet-list-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-bullet-list__container-{{ ai_gen_id }}">
    {% if block.settings.header_text != blank %}
      <h2 class="ai-bullet-list__header-{{ ai_gen_id }}">{{ block.settings.header_text }}</h2>
    {% endif %}

    <div class="ai-bullet-list__items-{{ ai_gen_id }}">
      {% for i in (1..5) %}
        {% liquid
          assign item_enabled_key = 'item_' | append: i | append: '_enabled'
          assign item_text_key = 'item_' | append: i | append: '_text'
          assign item_icon_type_key = 'item_' | append: i | append: '_icon_type'
          assign item_preset_icon_key = 'item_' | append: i | append: '_preset_icon'
          assign item_custom_icon_key = 'item_' | append: i | append: '_custom_icon'

          assign item_enabled = block.settings[item_enabled_key]
          assign item_text = block.settings[item_text_key]
          assign item_icon_type = block.settings[item_icon_type_key]
          assign item_preset_icon = block.settings[item_preset_icon_key]
          assign item_custom_icon = block.settings[item_custom_icon_key]
        %}

        {% if item_enabled and item_text != blank %}
          <div class="ai-bullet-list__item-{{ ai_gen_id }}">
            <div class="ai-bullet-list__icon-wrapper-{{ ai_gen_id }}">
              {% if item_icon_type == 'custom' and item_custom_icon != blank %}
                <img
                  src="{{ item_custom_icon | image_url: width: 100 }}"
                  alt=""
                  class="ai-bullet-list__icon-{{ ai_gen_id }}"
                  loading="lazy"
                  width="100"
                  height="100"
                >
              {% else %}
                <div class="ai-bullet-list__icon-{{ ai_gen_id }}">
                  {% if item_preset_icon == 'checkmark' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                  {% elsif item_preset_icon == 'star' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                  {% elsif item_preset_icon == 'heart' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                  {% elsif item_preset_icon == 'arrow' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                      <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                  {% elsif item_preset_icon == 'circle' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <circle cx="12" cy="12" r="10"/>
                    </svg>
                  {% elsif item_preset_icon == 'plus' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <line x1="12" y1="5" x2="12" y2="19"></line>
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                  {% elsif item_preset_icon == 'diamond' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M12 2L2 9l10 13L22 9z"/>
                    </svg>
                  {% elsif item_preset_icon == 'leaf' %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M17 8C8 10 5.9 16.17 3.82 21.34l1.89.66.67-2.08C6.38 20.92 7 22 8 22c3 0 4-4 4-6 0-1.5-1-3-2-3s-2 1.5-2 3c0 .5.5 1 1 1s1-.5 1-1c0-.5-.5-1-1-1-.5 0-1 .5-1 1 0 1 1 2 2 2 2 0 3-3 3-5 0-2.5-2-4.5-4.5-4.5S4 8.5 4 11c0 1.5.5 3 1.5 4C7 16.5 9 17 11 17c3 0 5.5-2 6.5-5 .5-1.5.5-3 .5-4.5 0-3-2-5.5-5-5.5z"/>
                    </svg>
                  {% else %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                  {% endif %}
                </div>
              {% endif %}
            </div>
            <div class="ai-bullet-list__text-{{ ai_gen_id }}">
              {{ item_text }}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</bullet-list-{{ ai_gen_id }}>

{% schema %}
{
  "name": "Bullet list",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Header"
    },
    {
      "type": "text",
      "id": "header_text",
      "label": "Header text",
      "default": "Key Features"
    },
    {
      "type": "range",
      "id": "header_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Header size",
      "default": 32
    },
    {
      "type": "select",
      "id": "header_weight",
      "label": "Header weight",
      "options": [
        {
          "value": "400",
          "label": "Normal"
        },
        {
          "value": "500",
          "label": "Medium"
        },
        {
          "value": "600",
          "label": "Semi-bold"
        },
        {
          "value": "700",
          "label": "Bold"
        }
      ],
      "default": "700"
    },
    {
      "type": "color",
      "id": "header_color",
      "label": "Header color",
      "default": "#252525"
    },
    {
      "type": "range",
      "id": "header_spacing",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Space below header",
      "default": 30
    },
    {
      "type": "select",
      "id": "text_alignment",
      "label": "Text alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 400,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "label": "Maximum width",
      "default": 800
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "label": "Section padding",
      "default": 40
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "item_spacing",
      "min": 10,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Space between items",
      "default": 20
    },
    {
      "type": "header",
      "content": "Icon style"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 16,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Icon size",
      "default": 24
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#cc858f"
    },
    {
      "type": "range",
      "id": "icon_text_gap",
      "min": 8,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Space between icon and text",
      "default": 16
    },
    {
      "type": "header",
      "content": "Text style"
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text size",
      "default": 16
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#252525"
    },
    {
      "type": "header",
      "content": "Item 1"
    },
    {
      "type": "checkbox",
      "id": "item_1_enabled",
      "label": "Show item 1",
      "default": true
    },
    {
      "type": "textarea",
      "id": "item_1_text",
      "label": "Text",
      "default": "Premium quality materials"
    },
    {
      "type": "select",
      "id": "item_1_icon_type",
      "label": "Icon type",
      "options": [
        {
          "value": "preset",
          "label": "Preset icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "preset"
    },
    {
      "type": "select",
      "id": "item_1_preset_icon",
      "label": "Preset icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "arrow",
          "label": "Arrow"
        },
        {
          "value": "circle",
          "label": "Circle"
        },
        {
          "value": "plus",
          "label": "Plus"
        },
        {
          "value": "diamond",
          "label": "Diamond"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        }
      ],
      "default": "checkmark"
    },
    {
      "type": "image_picker",
      "id": "item_1_custom_icon",
      "label": "Custom icon"
    },
    {
      "type": "header",
      "content": "Item 2"
    },
    {
      "type": "checkbox",
      "id": "item_2_enabled",
      "label": "Show item 2",
      "default": true
    },
    {
      "type": "textarea",
      "id": "item_2_text",
      "label": "Text",
      "default": "Handcrafted with care"
    },
    {
      "type": "select",
      "id": "item_2_icon_type",
      "label": "Icon type",
      "options": [
        {
          "value": "preset",
          "label": "Preset icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "preset"
    },
    {
      "type": "select",
      "id": "item_2_preset_icon",
      "label": "Preset icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "arrow",
          "label": "Arrow"
        },
        {
          "value": "circle",
          "label": "Circle"
        },
        {
          "value": "plus",
          "label": "Plus"
        },
        {
          "value": "diamond",
          "label": "Diamond"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        }
      ],
      "default": "checkmark"
    },
    {
      "type": "image_picker",
      "id": "item_2_custom_icon",
      "label": "Custom icon"
    },
    {
      "type": "header",
      "content": "Item 3"
    },
    {
      "type": "checkbox",
      "id": "item_3_enabled",
      "label": "Show item 3",
      "default": true
    },
    {
      "type": "textarea",
      "id": "item_3_text",
      "label": "Text",
      "default": "Sustainable and eco-friendly"
    },
    {
      "type": "select",
      "id": "item_3_icon_type",
      "label": "Icon type",
      "options": [
        {
          "value": "preset",
          "label": "Preset icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "preset"
    },
    {
      "type": "select",
      "id": "item_3_preset_icon",
      "label": "Preset icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "arrow",
          "label": "Arrow"
        },
        {
          "value": "circle",
          "label": "Circle"
        },
        {
          "value": "plus",
          "label": "Plus"
        },
        {
          "value": "diamond",
          "label": "Diamond"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        }
      ],
      "default": "checkmark"
    },
    {
      "type": "image_picker",
      "id": "item_3_custom_icon",
      "label": "Custom icon"
    },
    {
      "type": "header",
      "content": "Item 4"
    },
    {
      "type": "checkbox",
      "id": "item_4_enabled",
      "label": "Show item 4",
      "default": true
    },
    {
      "type": "textarea",
      "id": "item_4_text",
      "label": "Text",
      "default": "Fast and free shipping"
    },
    {
      "type": "select",
      "id": "item_4_icon_type",
      "label": "Icon type",
      "options": [
        {
          "value": "preset",
          "label": "Preset icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "preset"
    },
    {
      "type": "select",
      "id": "item_4_preset_icon",
      "label": "Preset icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "arrow",
          "label": "Arrow"
        },
        {
          "value": "circle",
          "label": "Circle"
        },
        {
          "value": "plus",
          "label": "Plus"
        },
        {
          "value": "diamond",
          "label": "Diamond"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        }
      ],
      "default": "checkmark"
    },
    {
      "type": "image_picker",
      "id": "item_4_custom_icon",
      "label": "Custom icon"
    },
    {
      "type": "header",
      "content": "Item 5"
    },
    {
      "type": "checkbox",
      "id": "item_5_enabled",
      "label": "Show item 5",
      "default": true
    },
    {
      "type": "textarea",
      "id": "item_5_text",
      "label": "Text",
      "default": "30-day money back guarantee"
    },
    {
      "type": "select",
      "id": "item_5_icon_type",
      "label": "Icon type",
      "options": [
        {
          "value": "preset",
          "label": "Preset icon"
        },
        {
          "value": "custom",
          "label": "Custom image"
        }
      ],
      "default": "preset"
    },
    {
      "type": "select",
      "id": "item_5_preset_icon",
      "label": "Preset icon",
      "options": [
        {
          "value": "checkmark",
          "label": "Checkmark"
        },
        {
          "value": "star",
          "label": "Star"
        },
        {
          "value": "heart",
          "label": "Heart"
        },
        {
          "value": "arrow",
          "label": "Arrow"
        },
        {
          "value": "circle",
          "label": "Circle"
        },
        {
          "value": "plus",
          "label": "Plus"
        },
        {
          "value": "diamond",
          "label": "Diamond"
        },
        {
          "value": "leaf",
          "label": "Leaf"
        }
      ],
      "default": "checkmark"
    },
    {
      "type": "image_picker",
      "id": "item_5_custom_icon",
      "label": "Custom icon"
    }
  ],
  "presets": [
    {
      "name": "Bullet list"
    }
  ]
}
{% endschema %}